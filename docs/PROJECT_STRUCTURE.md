# Project Structure

This document explains the purpose and typical usage of each file and folder.

## Root

- `package.json` — Scripts, dependencies, and metadata
- `playwright.config.js` — Playwright test configuration
- `eslint.config.js` — ESLint v9 flat config
- `.editorconfig` — Editor defaults across IDEs
- `.prettierrc` — Prettier formatting rules
- `.vscode/` — Workspace settings
- `license.txt` — License
- `README.md` — Usage-focused docs
- `CONTRIBUTING.md` — Contribution guidelines
- `KNOWLEDGE_BASE.md` — Best practices and tips
- `TODO.md` — Planned improvements
- `docs/` — Setup guides, deployment, testing, changelog
- `dist/` — Build output (generated)
- `qs-ext-jump-start-ext/` — Packaged extension folder (generated)

## Source (`src/`)

### Core Extension Files

- `index.js` — Supernova entrypoint that wires Stardust hooks to component rendering
- `ext.js` — Extension configuration (support flags, property panel container)
- `styles.css` — Basic styles; update for your UI
- `utils.js` — Reusable helpers for DOM creation and safe property access
- `meta.json` — Minimal metadata for packaging

### Component-Based Architecture (`src/components/`)

- `index.js` — Component exports and utilities
- `error-component.js` — Comprehensive error handling with user feedback
- `header-component.js` — Reusable header template structure
- `no-data-component.js` — Enhanced no-data state with configuration guidance
- `selection-handler.js` — Advanced selection handling with keyboard navigation
- `table-component.js` — Optimized table rendering with DocumentFragment

### Template System (`src/templates/`)

- `index.js` — Universal template factory with organized registry
- `base-template.js` — Foundation templates for layouts and containers
- `state-template.js` — State-specific templates (data, error, loading, no-data)
- `table-template.js` — Advanced table templates with responsive design

### State Management (`src/state/`)

- `index.js` — Centralized state management exports
- `data-state.js` — Layout processing and validation logic
- `render-state.js` — DOM container and data association management (WeakMap-based)
- `selection-state.js` — Selection session tracking and element mapping

### Declarative Rendering Framework (`src/rendering/`) - Beta

- `index.js` — Declarative rendering exports
- `declarative-config.js` — Configuration schema with validation
- `declarative-examples.js` — Pre-built configuration examples
- `declarative-integration.js` — Integration layer with extension infrastructure
- `declarative-renderer.js` — Core rendering engine with component caching
- `declarative-styles.css` — Styling framework for declarative components

### QAE Configuration (`src/qae/`)

- `index.js` — Exports `properties` and `data`
- `object-properties.js` — Property panel config with declarative rendering controls
- `data.js` — Data targets; customize dimensions/measures or hooks

## Tests (`test/`)

- `qs-ext.e2e.js` — Main E2E tests for environment validation
- `qs-ext.connect.js` — Qlik connection helpers
- `lib/` — Test framework library
  - `index.js` — Main entry point for test utilities
  - `core/` — Core framework components
    - `identifiers.js` — DOM selectors and element identifiers
    - `validation.js` — Environment validation with caching
    - `constants.js` — Timing and configuration constants
  - `utilities/` — Utility functions
    - `dom.js` — DOM interaction helpers
    - `json-editor.js` — JSON configuration handling
  - `page-objects/` — Page Object Model implementations
    - `nebula-hub.js` — Nebula Hub interaction patterns
- `qlik-sense-app/` — Test app and `load-script.qvs`
- `artifacts/`, `report/` — Generated by Playwright (HTML report under `test/report/`)

## Typical Edits

### Component Development

- Add a new component: Create file in `src/components/` and export from `src/components/index.js`
- Create custom template: Add to `src/templates/` and register in template system
- Implement state management: Add logic to appropriate `src/state/` module

### Extension Configuration

- Add a new property: `src/qae/object-properties.js`
- Change data source: `src/qae/data.js`
- Update declarative rendering: Configure in `src/rendering/declarative-config.js`

### UI and Styling

- Update component UI: Edit specific component files in `src/components/`
- Modify templates: Update template files in `src/templates/`
- Add global styles: `src/styles.css` or `src/rendering/declarative-styles.css`

### Testing

- Write component tests: Extend the existing test framework
- Enhance test utilities: Update `test/lib/` modules

See also: `docs/WORKFLOWS.md` for common tasks and examples.
